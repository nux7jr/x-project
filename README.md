
# API системы рейтингов пользователей

REST API, разработанный с использованием Laravel, для управления системой игровых рейтингов пользователей. API позволяет:
- Добавлять новых пользователей.
- Начислять очки пользователям.
- Получать топ-10 пользователей рейтинга.
- Узнавать место пользователя в рейтинге.

## Функциональность

1. **Создание нового пользователя**  
   Endpoint: `POST /users`  
   Позволяет добавить нового пользователя с уникальным именем.

2. **Добавление очков пользователю**  
   Endpoint: `POST /users/{userId}/score`  
   Добавляет очки к текущему результату пользователя.

3. **Получение топ-10 пользователей**  
   Endpoint: `GET /leaderboard/top`  
   Возвращает топ-10 пользователей по очкам за выбранный период (`day`, `week`, `month`).

4. **Получение места пользователя**  
   Endpoint: `GET /leaderboard/rank/{userId}`  
   Возвращает место пользователя в рейтинге за выбранный период (`day`, `week`, `month`).

---

## Начало работы

### Необходимые требования

- PHP >= 8.0
- Composer 
- MySQL >= 8.x
- Laravel >= 9.x

### Установка

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/nux7jr/x-project
   cd x-project
   ```

2. **Установите зависимости**:
   ```bash
   composer install
   ```

3. **Настройте файл окружения**:
   - Скопируйте `.env.example` в `.env`:
     ```bash
     cp .env.example .env
     ```
   - Настройте подключение к базе данных в файле `.env`:
     ```env
     DB_CONNECTION=mysql
     DB_HOST=127.0.0.1
     DB_PORT=3306
     DB_DATABASE=leaderboard_db
     DB_USERNAME=ваш_логин
     DB_PASSWORD=ваш_пароль
     ```

4. **Сгенерируйте ключ приложения**:
   ```bash
   php artisan key:generate
   ```

5. **Запустите миграции и заполните базу данных начальными данными**:
   ```bash
   php artisan migrate
   php artisan db:seed
   ```

---

## Использование

### Создание нового пользователя
**POST /users**  
Параметры запроса:
- `username` (string, обязательный): уникальное имя пользователя (латинские буквы, цифры, `_`, длина 3–50 символов).

### Добавление очков пользователю
**POST /users/{userId}/score**  
Параметры запроса:
- `points` (integer, обязательный): количество добавляемых очков (1–10000).

### Получение топ-10 пользователей
**GET /leaderboard/top**  
Параметры запроса:
- `period` (string, необязательный): период (`day`, `week`, `month`). Значение по умолчанию: `day`.

### Получение места пользователя
**GET /leaderboard/rank/{userId}**  
Параметры запроса:
- `period` (string, необязательный): период (`day`, `week`, `month`). Значение по умолчанию: `day`.

